{% extends 'MasterPage.twig' %}
{% block content %}
<hr>
<div class="container">
    
    <div class="row">
        <div class="col-md-6  offset-md-0  toppad">
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">Données personnelles</h3>
                    <form class="form-horizontal" action="/edit-user" role="form" method="POST">
                    <table class="table table-user-information ">
                        <tbody>
                            <tr>
                                <td>Nom</td>
                                <td>
                                    <input type="text" name="name" class="form-control" id="name" value={{app.user.nom}} onblur="checkName(this)">
                                </td>
                            </tr>
                            <tr>
                                <td>Prénom</td>
                                <td>
                                    <input type="text" name="surname" class="form-control" id="surname" value={{app.user.prenom}} onblur="checkSurname(this)">
                                </td>
                            </tr>
                            <tr>
                                <td>Email</td>
                                <td>
                                    <input name="email" class="form-control" type="email" value={{app.user.email}} onblur="checkMail(this)" focus />
                                </td>
                            </tr>
                             
                            <div class="form-control-feedback" id="mailError">
                              <span class="text-danger align-middle"><i class="fa fa-close">Email pas valide</i></span>
                            </div>
                         
                        </tbody>
                    </table>
                    <button type="submit" class="btn btn-outline-info btn-block">Modifier</button>
                    </form>
                </div>
            </div>
        </div> 
        <div class="col-md-6  offset-md-0  toppad">
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">Changer le mot de passe</h3>
                    {% for message in app.session.flashbag.get('error_msg') %}
                        <div class="alert alert-danger alert-dismissible fade show">
                             <button type="button" class="close" data-dismiss="alert">&times;</button>
                            {{ message }}
                        </div>
                    {% endfor %}
                    <form class="form-horizontal" action="/change-password" role="form" method="POST">
                    <table class="table table-user-information ">
                        <tbody>
                            <tr>
                                <td>Mot de passe actuel</td>
                                <td>
                                    <input type="password" name="oldPassword" class="form-control" id="passwordOld" required>
                                </td>
                            </tr>
                            <tr>
                                <td>Nouveau mot de passe</td>
                                <td>
                                    <input type="password" name="newPassword" class="form-control" id="password" required>
                                </td>
                            </tr>
                            <tr>
                                <td>Confirmer votre nouveau mot de passe</td>
                                <td>
                                    <input type="password" name="password-confirm" class="form-control" id="password-confirm" onblur="check2Psw(this)" required>
                                </td>
                            </tr>
                             <div class="form-control-feedback" id="pswError">
                                <span class="text-danger align-middle">
                                <i class="fa fa-close"> Les mots de passe sont différents</i>
                                </span>
                            </div>
                        </tbody>
                    </table>
                    <button type="submit" class="btn btn-outline-info btn-block">Valider</button>
                    </form>
                            
                </div>
            </div>
        </div>
    </div>
    
</div>
<script type="text/javascript" src="js/checkInput.js"></script>
 {% endblock %}